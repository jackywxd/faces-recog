# äººè„¸è¯†åˆ«ç³»ç»Ÿ - ä»»åŠ¡è·Ÿè¸ªæ¸…å•

## æ¦‚è§ˆ

åŸºäºå¿«é€ŸåŸå‹å¼€å‘è®¡åˆ’çš„ä»»åŠ¡åˆ†è§£ï¼Œå…±5ä¸ªè¿­ä»£é˜¶æ®µï¼Œé¢„è®¡å¼€å‘å‘¨æœŸ 16-26 å¤©ã€‚

### è¿›åº¦ç»Ÿè®¡
- **æ€»ä»»åŠ¡æ•°**: 72
- **å·²å®Œæˆ**: 13
- **è¿›è¡Œä¸­**: 0  
- **å¾…å¼€å§‹**: 59
- **è‡ªåŠ¨åŒ–æµ‹è¯•è¦†ç›–**: 5ä¸ªè¿­ä»£ï¼Œ35ä¸ªæµ‹è¯•ç”¨ä¾‹

---

## ğŸš€ è¿­ä»£ 1: åŸºç¡€æ¶æ„åŸå‹ (3-5å¤©)

**ç›®æ ‡**: å»ºç«‹æ–‡ä»¶ä¸Šä¼ å’Œå­˜å‚¨åŠŸèƒ½ï¼ŒéªŒè¯ Turborepo + Cloudflare æŠ€æœ¯æ ˆ

### åŸºç¡€è®¾æ–½æ­å»º

- [x] **TASK-1.1** åˆå§‹åŒ– Turborepo å•ä½“ä»“åº“ âœ…
  - åˆ›å»ºæ ¹ç›®å½•ç»“æ„ (`apps/`, `packages/`)
  - é…ç½® `turbo.json` æ„å»ºç®¡é“
  - è®¾ç½® `pnpm-workspace.yaml`
  - **ä¼°æ—¶**: 2å°æ—¶
  - **å®Œæˆæ—¶é—´**: 2024-12-30

- [x] **TASK-1.2** åˆ›å»ºå…±äº«åŒ…ç»“æ„ âœ…
  - åˆ›å»º `packages/shared` (ç±»å‹å®šä¹‰å’Œå·¥å…·)
  - åˆ›å»º `packages/config` (ESLint, TypeScript, Tailwindé…ç½®)
  - åˆ›å»º `packages/database` (æ•°æ®åº“schemaå’Œå®¢æˆ·ç«¯)
  - **ä¼°æ—¶**: 3å°æ—¶
  - **å®Œæˆæ—¶é—´**: 2024-12-30

- [x] **TASK-1.3** é…ç½® TypeScript å·¥ä½œåŒº âœ…
  - è®¾ç½®æ ¹ `tsconfig.json` å’Œå¼•ç”¨é…ç½®
  - é…ç½®åŒ…é—´ç±»å‹å…±äº«
  - è®¾ç½®æ„å»ºè¾“å‡ºç›®å½•
  - **ä¼°æ—¶**: 1å°æ—¶
  - **å®Œæˆæ—¶é—´**: 2024-12-30

### å‰ç«¯åº”ç”¨ (apps/web)

- [x] **TASK-1.4** åˆå§‹åŒ– Next.js 15 åº”ç”¨ âœ…
  - åˆ›å»º App Router ç»“æ„
  - é…ç½® `next.config.js` æ”¯æŒ Cloudflare Pages
  - è®¾ç½®åŸºç¡€å¸ƒå±€å’Œé¡µé¢
  - **ä¼°æ—¶**: 2å°æ—¶
  - **å®Œæˆæ—¶é—´**: 2024-12-30

- [x] **TASK-1.5** é›†æˆ shadcn/ui ç»„ä»¶åº“ âœ…
  - å®‰è£…å’Œé…ç½® shadcn/ui
  - è®¾ç½® Tailwind CSS
  - åˆ›å»ºåŸºç¡€ UI ç»„ä»¶
  - **ä¼°æ—¶**: 2å°æ—¶
  - **å®Œæˆæ—¶é—´**: 2024-12-30

- [x] **TASK-1.6** å®ç°æ–‡ä»¶ä¸Šä¼ ç•Œé¢ âœ…
  - åˆ›å»ºç…§ç‰‡ä¸Šä¼ ç»„ä»¶ (`PhotoUpload.tsx`)
  - å®ç°æ–‡ä»¶é€‰æ‹©å’Œæ‹–æ‹½ä¸Šä¼ 
  - æ·»åŠ æ–‡ä»¶æ ¼å¼å’Œå¤§å°éªŒè¯
  - æ˜¾ç¤ºä¸Šä¼ è¿›åº¦æ¡
  - **ä¼°æ—¶**: 4å°æ—¶
  - **å®Œæˆæ—¶é—´**: 2024-12-20

- [x] **TASK-1.7** å®ç°é”™è¯¯å¤„ç†å’Œç”¨æˆ·åé¦ˆ âœ…
  - åˆ›å»ºé”™è¯¯æç¤ºç»„ä»¶
  - å®ç°ä¸Šä¼ çŠ¶æ€ç®¡ç†
  - æ·»åŠ æˆåŠŸ/å¤±è´¥é€šçŸ¥
  - **ä¼°æ—¶**: 2å°æ—¶
  - **å®Œæˆæ—¶é—´**: 2024-12-20

### åç«¯ API (apps/api)

- [x] **TASK-1.8** åˆ›å»º Hono API æœåŠ¡ âœ…
  - åˆå§‹åŒ– Hono åº”ç”¨ç»“æ„
  - é…ç½® CORS å’ŒåŸºç¡€ä¸­é—´ä»¶
  - è®¾ç½®è·¯ç”±æ¶æ„
  - **ä¼°æ—¶**: 2å°æ—¶
  - **å®Œæˆæ—¶é—´**: 2024-12-20

- [x] **TASK-1.9** å®ç°æ–‡ä»¶ä¸Šä¼  API âœ…
  - åˆ›å»º `POST /api/upload` ç«¯ç‚¹
  - å®ç°æ–‡ä»¶éªŒè¯é€»è¾‘ (ç±»å‹ã€å¤§å°ã€æ ¼å¼)
  - æ·»åŠ  multipart/form-data å¤„ç†
  - **ä¼°æ—¶**: 3å°æ—¶
  - **å®Œæˆæ—¶é—´**: 2024-12-20

- [x] **TASK-1.10** é›†æˆ Cloudflare R2 å­˜å‚¨ âœ…
  - é…ç½® R2 å­˜å‚¨æ¡¶ç»‘å®š
  - å®ç°æ–‡ä»¶ä¸Šä¼ åˆ° R2
  - ç”Ÿæˆå®‰å…¨çš„æ–‡ä»¶è®¿é—® URL
  - **ä¼°æ—¶**: 3å°æ—¶
  - **å®Œæˆæ—¶é—´**: 2024-12-20

- [x] **TASK-1.11** é…ç½® wrangler å’Œéƒ¨ç½² âœ…
  - è®¾ç½® `wrangler.toml` é…ç½®
  - é…ç½®ç¯å¢ƒå˜é‡å’Œç»‘å®š
  - è®¾ç½®æœ¬åœ°å¼€å‘ç¯å¢ƒ
  - **ä¼°æ—¶**: 2å°æ—¶
  - **å®Œæˆæ—¶é—´**: 2024-12-20

### éƒ¨ç½²å’ŒéªŒè¯

- [x] **TASK-1.12** é…ç½® Cloudflare Pages éƒ¨ç½² âœ…
  - è®¾ç½®å‰ç«¯æ„å»ºå’Œéƒ¨ç½²æµç¨‹
  - é…ç½®åŸŸåå’Œç¯å¢ƒå˜é‡
  - **ä¼°æ—¶**: 1å°æ—¶
  - **å®Œæˆæ—¶é—´**: 2024-12-20

- [x] **TASK-1.13** é…ç½® Cloudflare Workers éƒ¨ç½² âœ…
  - éƒ¨ç½² API æœåŠ¡åˆ° Workers
  - é…ç½®è‡ªå®šä¹‰åŸŸåè·¯ç”±
  - **ä¼°æ—¶**: 1å°æ—¶
  - **å®Œæˆæ—¶é—´**: 2024-12-30

- [ ] **TASK-1.14** é…ç½® Playwright æµ‹è¯•ç¯å¢ƒ
  - å®‰è£…å’Œé…ç½® Playwright æµ‹è¯•æ¡†æ¶
  - è®¾ç½®æµ‹è¯•ç¯å¢ƒå’Œæµè§ˆå™¨é…ç½®
  - åˆ›å»ºåŸºç¡€æµ‹è¯•å·¥å…·å’Œ fixtures
  - é…ç½® CI/CD æµ‹è¯•ç®¡é“
  - **ä¼°æ—¶**: 2å°æ—¶

- [ ] **TASK-1.15** ç¼–å†™è¿­ä»£ 1 è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹
  - æµ‹è¯•ç”¨ä¾‹ 1.1: æ–‡ä»¶é€‰æ‹©å’Œä¸Šä¼ æµç¨‹
  - æµ‹è¯•ç”¨ä¾‹ 1.2: ä¸Šä¼ è¿›åº¦æ˜¾ç¤ºéªŒè¯
  - æµ‹è¯•ç”¨ä¾‹ 1.3: æ–‡ä»¶æ ¼å¼å’Œå¤§å°éªŒè¯
  - æµ‹è¯•ç”¨ä¾‹ 1.4: é”™è¯¯å¤„ç†å’Œç”¨æˆ·æç¤º
  - æµ‹è¯•ç”¨ä¾‹ 1.5: R2 å­˜å‚¨éªŒè¯å’Œ URL ç”Ÿæˆ
  - **ä¼°æ—¶**: 4å°æ—¶

- [ ] **TASK-1.16** æ‰§è¡Œè¿­ä»£ 1 éªŒæ”¶æµ‹è¯•
  - è¿è¡Œå®Œæ•´ Playwright æµ‹è¯•å¥—ä»¶
  - éªŒè¯æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡ (é€šè¿‡ç‡ 100%)
  - ç”Ÿæˆæµ‹è¯•æŠ¥å‘Šå’Œè¦†ç›–ç‡ç»Ÿè®¡
  - ç¡®è®¤éƒ¨ç½²ç¯å¢ƒå¯è®¿é—®æ€§
  - **ä¼°æ—¶**: 1å°æ—¶

---

## ğŸ§  è¿­ä»£ 2: é¢éƒ¨æ£€æµ‹åŸå‹ (3-5å¤©)

**ç›®æ ‡**: é›†æˆå®¹å™¨åŒ–é¢éƒ¨æ£€æµ‹æœåŠ¡ï¼Œå®ç°åŸºç¡€äººè„¸è¯†åˆ«èƒ½åŠ›

### å®¹å™¨æœåŠ¡æ­å»º (apps/face-detector)

- [ ] **TASK-2.1** åˆ›å»ºå®¹å™¨æœåŠ¡ç»“æ„
  - åˆ›å»º `apps/face-detector` ç›®å½•
  - è®¾ç½® Express.js æœåŠ¡å™¨
  - é…ç½® TypeScript å’Œæ„å»ºæµç¨‹
  - **ä¼°æ—¶**: 2å°æ—¶

- [ ] **TASK-2.2** é›†æˆ @vladmandic/face-api
  - å®‰è£… face-api.js å’Œä¾èµ–
  - é…ç½® Canvas ç¯å¢ƒæ”¯æŒ
  - ä¸‹è½½å’Œé…ç½® AI æ¨¡å‹æ–‡ä»¶
  - **ä¼°æ—¶**: 4å°æ—¶

- [ ] **TASK-2.3** å®ç°é¢éƒ¨æ£€æµ‹æœåŠ¡
  - åˆ›å»º `FaceDetectionService` ç±»
  - å®ç°æ¨¡å‹åŠ è½½å’Œç¼“å­˜
  - æ·»åŠ é¢éƒ¨æ£€æµ‹ç®—æ³•
  - **ä¼°æ—¶**: 4å°æ—¶

- [ ] **TASK-2.4** åˆ›å»º Dockerfile é…ç½®
  - é…ç½® Node.js Alpine åŸºç¡€é•œåƒ
  - å®‰è£…ç³»ç»Ÿä¾èµ– (Cairo, Canvasç­‰)
  - ä¼˜åŒ–é•œåƒå¤§å°å’Œæ„å»ºæ—¶é—´
  - **ä¼°æ—¶**: 3å°æ—¶

### Cloudflare Containers é›†æˆ

- [ ] **TASK-2.5** å®ç° Container ç±»
  - åˆ›å»º `FaceDetectorContainer` ç»§æ‰¿ `Container`
  - é…ç½®å®¹å™¨ç”Ÿå‘½å‘¨æœŸç®¡ç†
  - å®ç° `onStart`, `onStop`, `onError` é’©å­
  - **ä¼°æ—¶**: 3å°æ—¶

- [ ] **TASK-2.6** é…ç½® Worker åˆ° Container é€šä¿¡
  - æ›´æ–° `wrangler.jsonc` å®¹å™¨é…ç½®
  - å®ç° Durable Object ç»‘å®š
  - é…ç½®å®¹å™¨è·¯ç”±å’Œè´Ÿè½½å‡è¡¡
  - **ä¼°æ—¶**: 3å°æ—¶

- [ ] **TASK-2.7** å®ç°é¢éƒ¨æ£€æµ‹ API ç«¯ç‚¹
  - åˆ›å»º `POST /api/detect-faces` ç«¯ç‚¹
  - å®ç°å›¾åƒæ¥æ”¶å’Œå¤„ç†
  - è¿”å›æ£€æµ‹ç»“æœ (è¾¹ç•Œæ¡†ã€ç½®ä¿¡åº¦)
  - **ä¼°æ—¶**: 3å°æ—¶

### å‰ç«¯æ£€æµ‹ç»“æœå±•ç¤º

- [ ] **TASK-2.8** åˆ›å»ºæ£€æµ‹ç»“æœå¯è§†åŒ–ç»„ä»¶
  - å®ç° `FaceDetectionResult` ç»„ä»¶
  - ç»˜åˆ¶äººè„¸è¾¹ç•Œæ¡†æ ‡æ³¨
  - æ˜¾ç¤ºç½®ä¿¡åº¦åˆ†æ•°
  - **ä¼°æ—¶**: 4å°æ—¶

- [ ] **TASK-2.9** é›†æˆæ£€æµ‹æµç¨‹åˆ°ä¸Šä¼ ç•Œé¢
  - ä¸Šä¼ åè‡ªåŠ¨è§¦å‘é¢éƒ¨æ£€æµ‹
  - æ˜¾ç¤ºæ£€æµ‹è¿›åº¦å’ŒçŠ¶æ€
  - å¤„ç†æ£€æµ‹å¤±è´¥æƒ…å†µ
  - **ä¼°æ—¶**: 3å°æ—¶

- [ ] **TASK-2.10** ç¼–å†™è¿­ä»£ 2 è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹
  - æµ‹è¯•ç”¨ä¾‹ 2.1: å®¹å™¨æœåŠ¡å¯åŠ¨å’Œå¥åº·æ£€æŸ¥
  - æµ‹è¯•ç”¨ä¾‹ 2.2: é¢éƒ¨æ£€æµ‹ API ç«¯ç‚¹åŠŸèƒ½
  - æµ‹è¯•ç”¨ä¾‹ 2.3: æ£€æµ‹ç»“æœå¯è§†åŒ–éªŒè¯
  - æµ‹è¯•ç”¨ä¾‹ 2.4: è¾¹ç•Œæ¡†åæ ‡å‡†ç¡®æ€§æµ‹è¯•
  - æµ‹è¯•ç”¨ä¾‹ 2.5: ç½®ä¿¡åº¦åˆ†æ•°æ˜¾ç¤ºæµ‹è¯•
  - æµ‹è¯•ç”¨ä¾‹ 2.6: æ£€æµ‹å¤±è´¥åœºæ™¯å¤„ç†
  - **ä¼°æ—¶**: 4å°æ—¶

- [ ] **TASK-2.11** æ‰§è¡Œè¿­ä»£ 2 éªŒæ”¶æµ‹è¯•
  - è¿è¡Œé¢éƒ¨æ£€æµ‹æµ‹è¯•å¥—ä»¶
  - éªŒè¯æ£€æµ‹å‡†ç¡®ç‡ >90% (ä½¿ç”¨æµ‹è¯•å›¾ç‰‡é›†)
  - éªŒè¯å®¹å™¨æœåŠ¡ç¨³å®šæ€§ (è¿ç»­è¿è¡Œæµ‹è¯•)
  - éªŒè¯æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡ (é€šè¿‡ç‡ 100%)
  - ç”Ÿæˆæ£€æµ‹æ€§èƒ½åŸºå‡†æŠ¥å‘Š
  - **ä¼°æ—¶**: 2å°æ—¶

---

## ğŸ” è¿­ä»£ 3: é¢éƒ¨åŒ¹é…åŸå‹ (4-6å¤©)

**ç›®æ ‡**: å®ç°æ ¸å¿ƒäººè„¸åŒ¹é…åŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥æ‰¾åˆ°ç›¸ä¼¼äººè„¸ç…§ç‰‡

### æ•°æ®åº“è®¾è®¡å’Œå®ç°

- [ ] **TASK-3.1** è®¾è®¡ D1 æ•°æ®åº“ Schema
  - åˆ›å»º `photos` è¡¨ç»“æ„
  - åˆ›å»º `face_encodings` è¡¨ç»“æ„  
  - åˆ›å»º `search_jobs` è¡¨ç»“æ„
  - è®¾è®¡ç´¢å¼•ç­–ç•¥
  - **ä¼°æ—¶**: 2å°æ—¶

- [ ] **TASK-3.2** å®ç° Drizzle ORM é›†æˆ
  - é…ç½® Drizzle ä¸ D1 è¿æ¥
  - åˆ›å»ºç±»å‹å®‰å…¨çš„æŸ¥è¯¢æ–¹æ³•
  - å®ç°æ•°æ®åº“è¿ç§»è„šæœ¬
  - **ä¼°æ—¶**: 3å°æ—¶

- [ ] **TASK-3.3** åˆ›å»º Zod éªŒè¯ Schema
  - å®šä¹‰ `Photo`, `FaceEncoding`, `SearchJob` schema
  - å®ç°è¿è¡Œæ—¶ç±»å‹éªŒè¯
  - ç¡®ä¿ç«¯åˆ°ç«¯ç±»å‹å®‰å…¨
  - **ä¼°æ—¶**: 2å°æ—¶

### é¢éƒ¨ç‰¹å¾æå–å’ŒåŒ¹é…

- [ ] **TASK-3.4** å®ç°é¢éƒ¨ç‰¹å¾ç¼–ç æå–
  - æ‰©å±•å®¹å™¨æœåŠ¡æ”¯æŒç‰¹å¾æå–
  - ç”Ÿæˆ 128 ç»´é¢éƒ¨ç¼–ç å‘é‡
  - å®ç°ç¼–ç æ•°æ®å­˜å‚¨
  - **ä¼°æ—¶**: 4å°æ—¶

- [ ] **TASK-3.5** å®ç°ç›¸ä¼¼åº¦åŒ¹é…ç®—æ³•
  - å®ç°æ¬§å‡ é‡Œå¾—è·ç¦»è®¡ç®—
  - åˆ›å»ºæ‰¹é‡ç›¸ä¼¼åº¦æœç´¢
  - ä¼˜åŒ–å¤§è§„æ¨¡åŒ¹é…æ€§èƒ½
  - **ä¼°æ—¶**: 5å°æ—¶

- [ ] **TASK-3.6** å®ç°æœç´¢ä½œä¸šç®¡ç†
  - åˆ›å»ºå¼‚æ­¥æœç´¢ä½œä¸šç³»ç»Ÿ
  - å®ç°ä½œä¸šçŠ¶æ€è·Ÿè¸ª
  - æ”¯æŒå¹¶å‘æœç´¢å¤„ç†
  - **ä¼°æ—¶**: 4å°æ—¶

### æœç´¢ API å’ŒçŠ¶æ€ç®¡ç†

- [ ] **TASK-3.7** å®ç°æœç´¢ API ç«¯ç‚¹
  - åˆ›å»º `POST /api/search` ç«¯ç‚¹
  - å®ç° `GET /api/search/:jobId/status` ç«¯ç‚¹
  - åˆ›å»º `GET /api/search/:jobId/results` ç«¯ç‚¹
  - **ä¼°æ—¶**: 4å°æ—¶

- [ ] **TASK-3.8** å®ç°æœç´¢çŠ¶æ€å®æ—¶æ›´æ–°
  - é…ç½® WebSocket æˆ– Server-Sent Events
  - å®ç°æœç´¢è¿›åº¦å®æ—¶æ¨é€
  - å¤„ç†é•¿æ—¶é—´è¿è¡Œçš„æœç´¢ä»»åŠ¡
  - **ä¼°æ—¶**: 3å°æ—¶

### å‰ç«¯ç»“æœå±•ç¤º

- [ ] **TASK-3.9** åˆ›å»ºåŒ¹é…ç»“æœç”»å»Šç»„ä»¶
  - å®ç° `ResultsGallery` ç»„ä»¶
  - æ”¯æŒç½‘æ ¼å¸ƒå±€å’Œåˆ—è¡¨è§†å›¾
  - å®ç°å›¾ç‰‡æ‡’åŠ è½½
  - **ä¼°æ—¶**: 4å°æ—¶

- [ ] **TASK-3.10** å®ç°ç›¸ä¼¼åº¦æ˜¾ç¤ºå’Œè¿‡æ»¤
  - æ˜¾ç¤ºç›¸ä¼¼åº¦åˆ†æ•°å’Œæ’åº
  - å®ç°é˜ˆå€¼è¿‡æ»¤æ§åˆ¶
  - æ”¯æŒç»“æœåˆ†é¡µæµè§ˆ
  - **ä¼°æ—¶**: 3å°æ—¶

- [ ] **TASK-3.11** å®ç°æœç´¢çŠ¶æ€ç•Œé¢
  - åˆ›å»ºæœç´¢è¿›åº¦æŒ‡ç¤ºå™¨
  - æ˜¾ç¤ºå®æ—¶çŠ¶æ€æ›´æ–°
  - å¤„ç†æœç´¢é”™è¯¯çŠ¶æ€
  - **ä¼°æ—¶**: 2å°æ—¶

- [ ] **TASK-3.12** ç¼–å†™è¿­ä»£ 3 è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹
  - æµ‹è¯•ç”¨ä¾‹ 3.1: é¢éƒ¨ç‰¹å¾ç¼–ç æå–éªŒè¯
  - æµ‹è¯•ç”¨ä¾‹ 3.2: ç›¸ä¼¼åº¦åŒ¹é…ç®—æ³•å‡†ç¡®æ€§
  - æµ‹è¯•ç”¨ä¾‹ 3.3: æœç´¢ API ç«¯ç‚¹åŠŸèƒ½æµ‹è¯•
  - æµ‹è¯•ç”¨ä¾‹ 3.4: æœç´¢çŠ¶æ€å®æ—¶æ›´æ–°æµ‹è¯•
  - æµ‹è¯•ç”¨ä¾‹ 3.5: åŒ¹é…ç»“æœæ’åºå’Œåˆ†é¡µ
  - æµ‹è¯•ç”¨ä¾‹ 3.6: é˜ˆå€¼è¿‡æ»¤åŠŸèƒ½æµ‹è¯•
  - æµ‹è¯•ç”¨ä¾‹ 3.7: å¤§æ•°æ®é›†æ€§èƒ½æµ‹è¯•
  - **ä¼°æ—¶**: 5å°æ—¶

- [ ] **TASK-3.13** æ‰§è¡Œè¿­ä»£ 3 éªŒæ”¶æµ‹è¯•
  - è¿è¡Œå®Œæ•´åŒ¹é…åŠŸèƒ½æµ‹è¯•å¥—ä»¶
  - éªŒè¯åŒ¹é…æŸ¥è¯¢å“åº”æ—¶é—´ <5ç§’
  - éªŒè¯åŒ¹é…å‡†ç¡®æ€§ (ä½¿ç”¨å·²çŸ¥æ•°æ®é›†)
  - éªŒè¯æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡ (é€šè¿‡ç‡ 100%)
  - ç”ŸæˆåŒ¹é…æ€§èƒ½å’Œå‡†ç¡®æ€§æŠ¥å‘Š
  - **ä¼°æ—¶**: 2å°æ—¶

---

## âš¡ è¿­ä»£ 4: æ€§èƒ½å’Œä½“éªŒä¼˜åŒ– (3-5å¤©)

**ç›®æ ‡**: ä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½ï¼Œæå‡ç”¨æˆ·ä½“éªŒï¼Œå¢åŠ å®ç”¨åŠŸèƒ½

### å›¾åƒå¤„ç†ä¼˜åŒ–

- [ ] **TASK-4.1** å®ç°å›¾åƒæ ¼å¼ä¼˜åŒ–
  - é›†æˆ Sharp å›¾åƒå¤„ç†åº“
  - å®ç° WebP æ ¼å¼è‡ªåŠ¨è½¬æ¢
  - é…ç½®æ™ºèƒ½å‹ç¼©ç®—æ³•
  - **ä¼°æ—¶**: 3å°æ—¶

- [ ] **TASK-4.2** å®ç°ç¼©ç•¥å›¾ç”Ÿæˆ
  - è‡ªåŠ¨ç”Ÿæˆå¤šå°ºå¯¸ç¼©ç•¥å›¾
  - é…ç½®å“åº”å¼å›¾åƒç­–ç•¥
  - ä¼˜åŒ–å­˜å‚¨å’Œä¼ è¾“æ•ˆç‡
  - **ä¼°æ—¶**: 3å°æ—¶

- [ ] **TASK-4.3** å®ç°å›¾åƒç¼“å­˜ç­–ç•¥
  - é…ç½® CDN ç¼“å­˜è§„åˆ™
  - å®ç°æµè§ˆå™¨ç¼“å­˜ä¼˜åŒ–
  - æ·»åŠ ç¼“å­˜å¤±æ•ˆæœºåˆ¶
  - **ä¼°æ—¶**: 2å°æ—¶

### æ€§èƒ½ä¼˜åŒ–

- [ ] **TASK-4.4** å®ç°æœç´¢ç»“æœç¼“å­˜
  - ç¼“å­˜å¸¸è§æœç´¢ç»“æœ
  - å®ç°æ™ºèƒ½ç¼“å­˜ç­–ç•¥
  - é…ç½®ç¼“å­˜è¿‡æœŸå’Œæ›´æ–°
  - **ä¼°æ—¶**: 3å°æ—¶

- [ ] **TASK-4.5** ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢
  - æ·»åŠ æŸ¥è¯¢ç´¢å¼•ä¼˜åŒ–
  - å®ç°æŸ¥è¯¢ç»“æœåˆ†é¡µ
  - ä¼˜åŒ–å¤æ‚æŸ¥è¯¢æ€§èƒ½
  - **ä¼°æ—¶**: 3å°æ—¶

- [ ] **TASK-4.6** å®ç°æ‡’åŠ è½½å’Œè™šæ‹Ÿæ»šåŠ¨
  - åœ¨ç»“æœç”»å»Šä¸­å®ç°æ‡’åŠ è½½
  - é…ç½®è™šæ‹Ÿæ»šåŠ¨ä¼˜åŒ–
  - å‡å°‘å†…å­˜å ç”¨
  - **ä¼°æ—¶**: 4å°æ—¶

### ç”¨æˆ·ä½“éªŒæ”¹è¿›

- [ ] **TASK-4.7** å®ç°æ‹–æ‹½ä¸Šä¼ åŠŸèƒ½
  - æ”¯æŒæ‹–æ‹½æ–‡ä»¶åˆ°ä¸Šä¼ åŒºåŸŸ
  - å®ç°å¤šæ–‡ä»¶é€‰æ‹©å’Œé¢„è§ˆ
  - æ·»åŠ ä¸Šä¼ é˜Ÿåˆ—ç®¡ç†
  - **ä¼°æ—¶**: 3å°æ—¶

- [ ] **TASK-4.8** æ”¹è¿›è¿›åº¦åé¦ˆæœºåˆ¶
  - å®ç°è¯¦ç»†çš„ä¸Šä¼ è¿›åº¦
  - æ˜¾ç¤ºå¤„ç†é˜¶æ®µçŠ¶æ€
  - æ·»åŠ é¢„ä¼°å®Œæˆæ—¶é—´
  - **ä¼°æ—¶**: 2å°æ—¶

- [ ] **TASK-4.9** å®ç°é”™è¯¯æ¢å¤æœºåˆ¶
  - è‡ªåŠ¨é‡è¯•å¤±è´¥çš„æ“ä½œ
  - æä¾›æ‰‹åŠ¨é‡è¯•é€‰é¡¹
  - æ”¹è¿›é”™è¯¯æ¶ˆæ¯æ˜¾ç¤º
  - **ä¼°æ—¶**: 3å°æ—¶

- [ ] **TASK-4.10** å“åº”å¼è®¾è®¡ä¼˜åŒ–
  - ä¼˜åŒ–ç§»åŠ¨ç«¯ç•Œé¢å¸ƒå±€
  - å®ç°è§¦æ§å‹å¥½çš„äº¤äº’
  - ç¡®ä¿è·¨è®¾å¤‡å…¼å®¹æ€§
  - **ä¼°æ—¶**: 4å°æ—¶

### æ‰¹é‡å¤„ç†åŠŸèƒ½

- [ ] **TASK-4.11** å®ç°æ‰¹é‡æ–‡ä»¶ä¸Šä¼ 
  - æ”¯æŒå¤šæ–‡ä»¶åŒæ—¶ä¸Šä¼ 
  - å®ç°ä¸Šä¼ é˜Ÿåˆ—ç®¡ç†
  - æ˜¾ç¤ºæ‰¹é‡å¤„ç†è¿›åº¦
  - **ä¼°æ—¶**: 4å°æ—¶

- [ ] **TASK-4.12** å®ç°æœç´¢å†å²åŠŸèƒ½
  - å­˜å‚¨ç”¨æˆ·æœç´¢è®°å½•
  - æä¾›å†å²è®°å½•æµè§ˆ
  - æ”¯æŒå¿«é€Ÿé‡æ–°æœç´¢
  - **ä¼°æ—¶**: 3å°æ—¶

- [ ] **TASK-4.13** å®ç°ç»“æœå¯¼å‡ºåŠŸèƒ½
  - æ”¯æŒæœç´¢ç»“æœå¯¼å‡º
  - æä¾›å¤šç§å¯¼å‡ºæ ¼å¼
  - å®ç°æ‰¹é‡ä¸‹è½½åŠŸèƒ½
  - **ä¼°æ—¶**: 3å°æ—¶

- [ ] **TASK-4.14** ç¼–å†™è¿­ä»£ 4 è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹
  - æµ‹è¯•ç”¨ä¾‹ 4.1: å›¾åƒä¼˜åŒ–å’Œå‹ç¼©éªŒè¯
  - æµ‹è¯•ç”¨ä¾‹ 4.2: ç¼©ç•¥å›¾ç”Ÿæˆè´¨é‡æµ‹è¯•
  - æµ‹è¯•ç”¨ä¾‹ 4.3: ç¼“å­˜ç­–ç•¥æœ‰æ•ˆæ€§æµ‹è¯•
  - æµ‹è¯•ç”¨ä¾‹ 4.4: æ‡’åŠ è½½å’Œè™šæ‹Ÿæ»šåŠ¨æµ‹è¯•
  - æµ‹è¯•ç”¨ä¾‹ 4.5: æ‹–æ‹½ä¸Šä¼ åŠŸèƒ½æµ‹è¯•
  - æµ‹è¯•ç”¨ä¾‹ 4.6: æ‰¹é‡æ–‡ä»¶å¤„ç†æµ‹è¯•
  - æµ‹è¯•ç”¨ä¾‹ 4.7: å“åº”å¼è®¾è®¡å…¼å®¹æ€§æµ‹è¯•
  - æµ‹è¯•ç”¨ä¾‹ 4.8: æ€§èƒ½åŸºå‡†æµ‹è¯• (å“åº”æ—¶é—´ã€ä¸Šä¼ é€Ÿåº¦)
  - **ä¼°æ—¶**: 5å°æ—¶

- [ ] **TASK-4.15** æ‰§è¡Œè¿­ä»£ 4 éªŒæ”¶æµ‹è¯•
  - è¿è¡Œæ€§èƒ½å’Œä½“éªŒæµ‹è¯•å¥—ä»¶
  - éªŒè¯ç•Œé¢å“åº”æ—¶é—´ <200ms
  - éªŒè¯ä¸Šä¼ é€Ÿåº¦æå‡ 50%
  - éªŒè¯ç§»åŠ¨ç«¯å…¼å®¹æ€§ (å¤šè®¾å¤‡æµ‹è¯•)
  - éªŒè¯æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡ (é€šè¿‡ç‡ 100%)
  - ç”Ÿæˆæ€§èƒ½ä¼˜åŒ–æ•ˆæœæŠ¥å‘Š
  - **ä¼°æ—¶**: 2å°æ—¶

---

## ğŸš€ è¿­ä»£ 5: ç”Ÿäº§å°±ç»ª (3-5å¤©)

**ç›®æ ‡**: ä½¿ç³»ç»Ÿè¾¾åˆ°ç”Ÿäº§ç¯å¢ƒæ ‡å‡†ï¼ŒåŒ…æ‹¬ç›‘æ§ã€å®‰å…¨ã€æ‰©å±•æ€§

### ç”Ÿäº§ç¯å¢ƒé…ç½®

- [ ] **TASK-5.1** é…ç½®ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
  - è®¾ç½®ç”Ÿäº§åŸŸåå’Œ SSL è¯ä¹¦
  - é…ç½®ç¯å¢ƒå˜é‡å’Œå¯†é’¥ç®¡ç†
  - ä¼˜åŒ–æ„å»ºå’Œéƒ¨ç½²æµç¨‹
  - **ä¼°æ—¶**: 3å°æ—¶

- [ ] **TASK-5.2** å®ç° CI/CD ç®¡é“ä¼˜åŒ–
  - é…ç½®è‡ªåŠ¨åŒ–æµ‹è¯•æµç¨‹
  - å®ç°åˆ†é˜¶æ®µéƒ¨ç½²ç­–ç•¥
  - æ·»åŠ éƒ¨ç½²å›æ»šæœºåˆ¶
  - **ä¼°æ—¶**: 4å°æ—¶

- [ ] **TASK-5.3** é…ç½®å®¹å™¨ç”Ÿäº§ä¼˜åŒ–
  - ä¼˜åŒ–å®¹å™¨é•œåƒå¤§å°
  - é…ç½®ç”Ÿäº§ç¯å¢ƒèµ„æºé™åˆ¶
  - å®ç°å®¹å™¨å¥åº·æ£€æŸ¥
  - **ä¼°æ—¶**: 3å°æ—¶

### ç›‘æ§å’Œæ—¥å¿—ç³»ç»Ÿ

- [ ] **TASK-5.4** å®ç°åº”ç”¨æ€§èƒ½ç›‘æ§
  - é›†æˆ Cloudflare Analytics
  - é…ç½®å…³é”®æŒ‡æ ‡ç›‘æ§
  - è®¾ç½®æ€§èƒ½é˜ˆå€¼å‘Šè­¦
  - **ä¼°æ—¶**: 3å°æ—¶

- [ ] **TASK-5.5** å®ç°é”™è¯¯è¿½è¸ªå’Œæ—¥å¿—
  - é…ç½®ç»“æ„åŒ–æ—¥å¿—è¾“å‡º
  - å®ç°é”™è¯¯è‡ªåŠ¨æŠ¥å‘Š
  - è®¾ç½®æ—¥å¿—èšåˆå’Œåˆ†æ
  - **ä¼°æ—¶**: 3å°æ—¶

- [ ] **TASK-5.6** åˆ›å»ºç›‘æ§ä»ªè¡¨æ¿
  - æ„å»ºå®æ—¶æ€§èƒ½ä»ªè¡¨æ¿
  - æ˜¾ç¤ºå…³é”®ä¸šåŠ¡æŒ‡æ ‡
  - å®ç°å‘Šè­¦é€šçŸ¥ç³»ç»Ÿ
  - **ä¼°æ—¶**: 4å°æ—¶

### å®‰å…¨å¼ºåŒ–

- [ ] **TASK-5.7** å®ç°å®‰å…¨å®¡è®¡
  - æ‰§è¡Œå®‰å…¨æ¼æ´æ‰«æ
  - å®ç°è¾“å…¥éªŒè¯å¼ºåŒ–
  - é…ç½®å®‰å…¨å¤´å’Œç­–ç•¥
  - **ä¼°æ—¶**: 3å°æ—¶

- [ ] **TASK-5.8** å®ç°è®¿é—®æ§åˆ¶å’Œé™æµ
  - é…ç½® API é€Ÿç‡é™åˆ¶
  - å®ç°åŸºç¡€è®¿é—®æ§åˆ¶
  - æ·»åŠ åçˆ¬è™«ä¿æŠ¤
  - **ä¼°æ—¶**: 3å°æ—¶

- [ ] **TASK-5.9** å®ç°æ•°æ®ä¿æŠ¤æœºåˆ¶
  - é…ç½®æ•°æ®åŠ å¯†å­˜å‚¨
  - å®ç°æ•æ„Ÿæ•°æ®è„±æ•
  - è®¾ç½®æ•°æ®ä¿ç•™ç­–ç•¥
  - **ä¼°æ—¶**: 3å°æ—¶

### å¯é æ€§å’Œæ‰©å±•æ€§

- [ ] **TASK-5.10** å®ç°å¥åº·æ£€æŸ¥ç³»ç»Ÿ
  - åˆ›å»ºå¤šå±‚æ¬¡å¥åº·æ£€æŸ¥
  - å®ç°æœåŠ¡å¯ç”¨æ€§ç›‘æ§
  - é…ç½®è‡ªåŠ¨æ•…éšœæ¢å¤
  - **ä¼°æ—¶**: 3å°æ—¶

- [ ] **TASK-5.11** é…ç½®æ•°æ®å¤‡ä»½ç­–ç•¥
  - å®ç°è‡ªåŠ¨æ•°æ®å¤‡ä»½
  - é…ç½®å¤‡ä»½éªŒè¯æœºåˆ¶
  - åˆ›å»ºç¾éš¾æ¢å¤è®¡åˆ’
  - **ä¼°æ—¶**: 4å°æ—¶

- [ ] **TASK-5.12** æ‰§è¡Œè´Ÿè½½å’Œå‹åŠ›æµ‹è¯•
  - ä½¿ç”¨ Playwright æ‰§è¡Œè´Ÿè½½æµ‹è¯•
  - éªŒè¯ 1000+ å¹¶å‘ç”¨æˆ·æ”¯æŒ
  - æµ‹è¯•ç³»ç»Ÿå¯ç”¨æ€§ 99.9%
  - **ä¼°æ—¶**: 4å°æ—¶

### æ–‡æ¡£å’Œäº¤ä»˜

- [ ] **TASK-5.13** å®Œå–„ API æ–‡æ¡£
  - ç”Ÿæˆ OpenAPI è§„èŒƒæ–‡æ¡£
  - åˆ›å»º API ä½¿ç”¨ç¤ºä¾‹
  - å®ç°äº¤äº’å¼ API æµ‹è¯•
  - **ä¼°æ—¶**: 3å°æ—¶

- [ ] **TASK-5.14** åˆ›å»ºè¿ç»´æ“ä½œæ‰‹å†Œ
  - ç¼–å†™éƒ¨ç½²æ“ä½œæŒ‡å—
  - åˆ›å»ºæ•…éšœæ’é™¤æ‰‹å†Œ
  - æ–‡æ¡£åŒ–ç›‘æ§å’Œç»´æŠ¤æµç¨‹
  - **ä¼°æ—¶**: 4å°æ—¶

- [ ] **TASK-5.15** ç¼–å†™ç”¨æˆ·ä½¿ç”¨æŒ‡å—
  - åˆ›å»ºç”¨æˆ·æ“ä½œæ•™ç¨‹
  - åˆ¶ä½œåŠŸèƒ½æ¼”ç¤ºè§†é¢‘
  - ç¼–å†™å¸¸è§é—®é¢˜è§£ç­”
  - **ä¼°æ—¶**: 3å°æ—¶

- [ ] **TASK-5.16** ç¼–å†™è¿­ä»£ 5 è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹
  - æµ‹è¯•ç”¨ä¾‹ 5.1: ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²éªŒè¯
  - æµ‹è¯•ç”¨ä¾‹ 5.2: ç›‘æ§å’Œå‘Šè­¦åŠŸèƒ½æµ‹è¯•
  - æµ‹è¯•ç”¨ä¾‹ 5.3: å®‰å…¨é˜²æŠ¤æœºåˆ¶æµ‹è¯•
  - æµ‹è¯•ç”¨ä¾‹ 5.4: è®¿é—®æ§åˆ¶å’Œé™æµæµ‹è¯•
  - æµ‹è¯•ç”¨ä¾‹ 5.5: å¥åº·æ£€æŸ¥ç³»ç»Ÿæµ‹è¯•
  - æµ‹è¯•ç”¨ä¾‹ 5.6: æ•°æ®å¤‡ä»½å’Œæ¢å¤æµ‹è¯•
  - æµ‹è¯•ç”¨ä¾‹ 5.7: è´Ÿè½½å‹åŠ›æµ‹è¯• (1000+ å¹¶å‘)
  - æµ‹è¯•ç”¨ä¾‹ 5.8: å¯ç”¨æ€§æµ‹è¯• (99.9% SLA)
  - **ä¼°æ—¶**: 6å°æ—¶

- [ ] **TASK-5.17** æ‰§è¡Œè¿­ä»£ 5 éªŒæ”¶æµ‹è¯•
  - è¿è¡Œå®Œæ•´ç”Ÿäº§å°±ç»ªæµ‹è¯•å¥—ä»¶
  - éªŒè¯ç³»ç»Ÿå¯å¤„ç† 1000+ å¹¶å‘ç”¨æˆ·
  - ç¡®è®¤ 99.9% å¯ç”¨æ€§è¾¾æ ‡
  - éªŒè¯å®‰å…¨æ‰«ææ— é«˜å±æ¼æ´
  - éªŒè¯ç›‘æ§å’Œå‘Šè­¦ç³»ç»Ÿæ­£å¸¸
  - éªŒè¯æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡ (é€šè¿‡ç‡ 100%)
  - ç”Ÿæˆç”Ÿäº§å°±ç»ªè¯„ä¼°æŠ¥å‘Š
  - **ä¼°æ—¶**: 3å°æ—¶

---

## ğŸ“Š è¿›åº¦è·Ÿè¸ª

### è¿­ä»£å®ŒæˆçŠ¶æ€

| è¿­ä»£ | ä»»åŠ¡æ•° | å·²å®Œæˆ | è¿›è¡Œä¸­ | å¾…å¼€å§‹ | å®Œæˆç‡ | æµ‹è¯•ç”¨ä¾‹æ•° |
|------|--------|--------|--------|--------|--------|------------|
| è¿­ä»£ 1 | 16 | 13 | 0 | 3 | 81% | 5 ä¸ªæµ‹è¯•ç”¨ä¾‹ |
| è¿­ä»£ 2 | 11 | 0 | 0 | 11 | 0% | 6 ä¸ªæµ‹è¯•ç”¨ä¾‹ |
| è¿­ä»£ 3 | 13 | 0 | 0 | 13 | 0% | 7 ä¸ªæµ‹è¯•ç”¨ä¾‹ |
| è¿­ä»£ 4 | 15 | 0 | 0 | 15 | 0% | 8 ä¸ªæµ‹è¯•ç”¨ä¾‹ |
| è¿­ä»£ 5 | 17 | 0 | 0 | 17 | 0% | 8 ä¸ªæµ‹è¯•ç”¨ä¾‹ |
| **æ€»è®¡** | **72** | **13** | **0** | **59** | **18%** | **34 ä¸ªæµ‹è¯•ç”¨ä¾‹** |

### å…³é”®é‡Œç¨‹ç¢‘

- [ ] **é‡Œç¨‹ç¢‘ 1**: åŸºç¡€æ¶æ„å®Œæˆ - æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½å¯ç”¨
- [ ] **é‡Œç¨‹ç¢‘ 2**: é¢éƒ¨æ£€æµ‹å®Œæˆ - AI å®¹å™¨æœåŠ¡å¯ç”¨  
- [ ] **é‡Œç¨‹ç¢‘ 3**: é¢éƒ¨åŒ¹é…å®Œæˆ - æ ¸å¿ƒåŠŸèƒ½å¯ç”¨
- [ ] **é‡Œç¨‹ç¢‘ 4**: æ€§èƒ½ä¼˜åŒ–å®Œæˆ - ç”¨æˆ·ä½“éªŒä¼˜ç§€
- [ ] **é‡Œç¨‹ç¢‘ 5**: ç”Ÿäº§å°±ç»ªå®Œæˆ - ç³»ç»Ÿå¯ä¸Šçº¿è¿è¥

### é£é™©å’Œä¾èµ–

**é«˜é£é™©ä»»åŠ¡**:
- TASK-2.2: @vladmandic/face-api é›†æˆ (æŠ€æœ¯å¤æ‚åº¦é«˜)
- TASK-3.5: ç›¸ä¼¼åº¦åŒ¹é…ç®—æ³• (æ€§èƒ½è¦æ±‚é«˜)
- TASK-5.12: è´Ÿè½½æµ‹è¯• (å¯èƒ½å‘ç°æ€§èƒ½ç“¶é¢ˆ)

**å…³é”®ä¾èµ–**:
- Cloudflare Containers å…¬æµ‹å¯ç”¨æ€§
- AI æ¨¡å‹æ–‡ä»¶ä¸‹è½½å’Œé…ç½®
- å¤§è§„æ¨¡æ•°æ®é›†æµ‹è¯•ç¯å¢ƒ

---

## ä½¿ç”¨è¯´æ˜

### ä»»åŠ¡çŠ¶æ€æ ‡è®°
- `[ ]` å¾…å¼€å§‹
- `[ğŸ”„]` è¿›è¡Œä¸­  
- `[âœ…]` å·²å®Œæˆ
- `[âŒ]` å·²å–æ¶ˆ
- `[âš ï¸]` æœ‰é—®é¢˜éœ€è¦æ³¨æ„

### æ›´æ–°è¿›åº¦
å®Œæˆä»»åŠ¡æ—¶è¯·ï¼š
1. å°† `[ ]` æ”¹ä¸º `[âœ…]`
2. æ›´æ–°ä¸Šæ–¹çš„è¿›åº¦ç»Ÿè®¡è¡¨
3. è®°å½•å®é™…è€—æ—¶ç”¨äºä¼°æ—¶æ”¹è¿›
4. æ³¨æ˜é‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### ä»»åŠ¡ä¼˜å…ˆçº§
- **P0**: é˜»å¡æ€§ä»»åŠ¡ï¼Œå¿…é¡»ç«‹å³å®Œæˆ
- **P1**: é«˜ä¼˜å…ˆçº§ï¼Œå½“å‰è¿­ä»£å¿…é¡»å®Œæˆ
- **P2**: ä¸­ä¼˜å…ˆçº§ï¼Œå¯é€‚å½“è°ƒæ•´
- **P3**: ä½ä¼˜å…ˆçº§ï¼Œå¯æ¨è¿Ÿåˆ°åç»­è¿­ä»£

---

## ğŸ§ª Playwright è‡ªåŠ¨åŒ–æµ‹è¯•ç­–ç•¥

### æµ‹è¯•éªŒæ”¶æ ‡å‡†

**æ¯ä¸ªè¿­ä»£å¿…é¡»é€šè¿‡ 100% çš„ Playwright è‡ªåŠ¨åŒ–æµ‹è¯•æ‰èƒ½è¢«è®¤ä¸ºå®Œæˆã€‚**

### æµ‹è¯•ç¯å¢ƒé…ç½®

```typescript
// playwright.config.ts
import { defineConfig, devices } from '@playwright/test';

export default defineConfig({
  testDir: './tests',
  fullyParallel: true,
  forbidOnly: !!process.env.CI,
  retries: process.env.CI ? 2 : 0,
  workers: process.env.CI ? 1 : undefined,
  reporter: [
    ['html'],
    ['json', { outputFile: 'test-results.json' }],
    ['junit', { outputFile: 'test-results.xml' }]
  ],
  use: {
    baseURL: process.env.TEST_BASE_URL || 'http://localhost:3000',
    trace: 'on-first-retry',
    screenshot: 'only-on-failure',
    video: 'retain-on-failure'
  },
  projects: [
    {
      name: 'chromium',
      use: { ...devices['Desktop Chrome'] }
    },
    {
      name: 'firefox', 
      use: { ...devices['Desktop Firefox'] }
    },
    {
      name: 'webkit',
      use: { ...devices['Desktop Safari'] }
    },
    {
      name: 'Mobile Chrome',
      use: { ...devices['Pixel 5'] }
    },
    {
      name: 'Mobile Safari',
      use: { ...devices['iPhone 12'] }
    }
  ]
});
```

### æµ‹è¯•ç”¨ä¾‹è§„èŒƒ

#### è¿­ä»£ 1: åŸºç¡€æ¶æ„æµ‹è¯•
```typescript
// tests/iteration-1/file-upload.spec.ts
import { test, expect } from '@playwright/test';

test.describe('è¿­ä»£ 1: æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½', () => {
  test('1.1: æ–‡ä»¶é€‰æ‹©å’Œä¸Šä¼ æµç¨‹', async ({ page }) => {
    await page.goto('/');
    
    // éªŒè¯ä¸Šä¼ ç•Œé¢å­˜åœ¨
    const uploadArea = page.locator('[data-testid="upload-area"]');
    await expect(uploadArea).toBeVisible();
    
    // æ¨¡æ‹Ÿæ–‡ä»¶é€‰æ‹©
    const fileInput = page.locator('input[type="file"]');
    await fileInput.setInputFiles('./test-assets/sample-image.jpg');
    
    // éªŒè¯æ–‡ä»¶é¢„è§ˆæ˜¾ç¤º
    const preview = page.locator('[data-testid="file-preview"]');
    await expect(preview).toBeVisible();
    
    // ç‚¹å‡»ä¸Šä¼ æŒ‰é’®
    const uploadButton = page.locator('[data-testid="upload-button"]');
    await uploadButton.click();
    
    // éªŒè¯ä¸Šä¼ æˆåŠŸ
    const successMessage = page.locator('[data-testid="upload-success"]');
    await expect(successMessage).toBeVisible({ timeout: 10000 });
  });

  test('1.2: ä¸Šä¼ è¿›åº¦æ˜¾ç¤ºéªŒè¯', async ({ page }) => {
    await page.goto('/');
    
    const fileInput = page.locator('input[type="file"]');
    await fileInput.setInputFiles('./test-assets/large-image.jpg');
    
    const uploadButton = page.locator('[data-testid="upload-button"]');
    await uploadButton.click();
    
    // éªŒè¯è¿›åº¦æ¡æ˜¾ç¤º
    const progressBar = page.locator('[data-testid="progress-bar"]');
    await expect(progressBar).toBeVisible();
    
    // éªŒè¯è¿›åº¦ç™¾åˆ†æ¯”æ›´æ–°
    const progressText = page.locator('[data-testid="progress-text"]');
    await expect(progressText).toContainText('%');
  });

  test('1.3: æ–‡ä»¶æ ¼å¼å’Œå¤§å°éªŒè¯', async ({ page }) => {
    await page.goto('/');
    
    // æµ‹è¯•ä¸æ”¯æŒçš„æ–‡ä»¶æ ¼å¼
    const fileInput = page.locator('input[type="file"]');
    await fileInput.setInputFiles('./test-assets/document.pdf');
    
    const errorMessage = page.locator('[data-testid="format-error"]');
    await expect(errorMessage).toBeVisible();
    await expect(errorMessage).toContainText('ä¸æ”¯æŒçš„æ–‡ä»¶æ ¼å¼');
    
    // æµ‹è¯•æ–‡ä»¶è¿‡å¤§
    await fileInput.setInputFiles('./test-assets/large-file.jpg');
    const sizeError = page.locator('[data-testid="size-error"]');
    await expect(sizeError).toBeVisible();
    await expect(sizeError).toContainText('æ–‡ä»¶è¿‡å¤§');
  });

  test('1.4: é”™è¯¯å¤„ç†å’Œç”¨æˆ·æç¤º', async ({ page }) => {
    // æ¨¡æ‹Ÿç½‘ç»œé”™è¯¯
    await page.route('**/api/upload', route => route.abort());
    
    await page.goto('/');
    const fileInput = page.locator('input[type="file"]');
    await fileInput.setInputFiles('./test-assets/sample-image.jpg');
    
    const uploadButton = page.locator('[data-testid="upload-button"]');
    await uploadButton.click();
    
    // éªŒè¯é”™è¯¯æç¤º
    const errorMessage = page.locator('[data-testid="upload-error"]');
    await expect(errorMessage).toBeVisible();
    await expect(errorMessage).toContainText('ä¸Šä¼ å¤±è´¥');
  });

  test('1.5: R2 å­˜å‚¨éªŒè¯å’Œ URL ç”Ÿæˆ', async ({ page }) => {
    await page.goto('/');
    
    const fileInput = page.locator('input[type="file"]');
    await fileInput.setInputFiles('./test-assets/sample-image.jpg');
    
    const uploadButton = page.locator('[data-testid="upload-button"]');
    await uploadButton.click();
    
    // ç­‰å¾…ä¸Šä¼ å®Œæˆ
    const successMessage = page.locator('[data-testid="upload-success"]');
    await expect(successMessage).toBeVisible({ timeout: 15000 });
    
    // éªŒè¯è¿”å›çš„æ–‡ä»¶ URL
    const fileUrl = page.locator('[data-testid="file-url"]');
    await expect(fileUrl).toBeVisible();
    await expect(fileUrl).toContainText('https://');
    
    // éªŒè¯æ–‡ä»¶å¯è®¿é—®
    const urlText = await fileUrl.textContent();
    const response = await page.request.get(urlText);
    expect(response.status()).toBe(200);
  });
});
```

#### è¿­ä»£ 2: é¢éƒ¨æ£€æµ‹æµ‹è¯•
```typescript
// tests/iteration-2/face-detection.spec.ts
test.describe('è¿­ä»£ 2: é¢éƒ¨æ£€æµ‹åŠŸèƒ½', () => {
  test('2.1: å®¹å™¨æœåŠ¡å¯åŠ¨å’Œå¥åº·æ£€æŸ¥', async ({ page }) => {
    // æ£€æŸ¥å®¹å™¨å¥åº·çŠ¶æ€
    const response = await page.request.get('/api/health');
    expect(response.status()).toBe(200);
    
    const health = await response.json();
    expect(health.status).toBe('healthy');
  });

  test('2.2: é¢éƒ¨æ£€æµ‹ API ç«¯ç‚¹åŠŸèƒ½', async ({ page }) => {
    // ç›´æ¥æµ‹è¯• API ç«¯ç‚¹
    const formData = new FormData();
    formData.append('image', fs.readFileSync('./test-assets/face-photo.jpg'));
    
    const response = await page.request.post('/api/detect-faces', {
      data: formData
    });
    
    expect(response.status()).toBe(200);
    const result = await response.json();
    expect(result.success).toBe(true);
    expect(result.faces).toBeDefined();
    expect(result.faces.length).toBeGreaterThan(0);
  });

  test('2.3: æ£€æµ‹ç»“æœå¯è§†åŒ–éªŒè¯', async ({ page }) => {
    await page.goto('/');
    
    // ä¸Šä¼ åŒ…å«äººè„¸çš„å›¾ç‰‡
    const fileInput = page.locator('input[type="file"]');
    await fileInput.setInputFiles('./test-assets/face-photo.jpg');
    
    const uploadButton = page.locator('[data-testid="upload-button"]');
    await uploadButton.click();
    
    // ç­‰å¾…æ£€æµ‹ç»“æœæ˜¾ç¤º
    const detectionResult = page.locator('[data-testid="detection-result"]');
    await expect(detectionResult).toBeVisible({ timeout: 30000 });
    
    // éªŒè¯è¾¹ç•Œæ¡†æ˜¾ç¤º
    const boundingBoxes = page.locator('[data-testid="face-bounding-box"]');
    await expect(boundingBoxes.first()).toBeVisible();
  });
});
```

### æ€§èƒ½æµ‹è¯•è¦æ±‚

```typescript
// tests/performance/load-test.spec.ts
test.describe('æ€§èƒ½å’Œè´Ÿè½½æµ‹è¯•', () => {
  test('å¹¶å‘ä¸Šä¼ æµ‹è¯•', async ({ browser }) => {
    const contexts = await Promise.all(
      Array.from({ length: 10 }, () => browser.newContext())
    );
    
    const pages = await Promise.all(
      contexts.map(context => context.newPage())
    );
    
    // å¹¶å‘æ‰§è¡Œä¸Šä¼ æ“ä½œ
    const uploadPromises = pages.map(async (page, index) => {
      await page.goto('/');
      const fileInput = page.locator('input[type="file"]');
      await fileInput.setInputFiles(`./test-assets/test-image-${index}.jpg`);
      
      const uploadButton = page.locator('[data-testid="upload-button"]');
      const start = Date.now();
      await uploadButton.click();
      
      const successMessage = page.locator('[data-testid="upload-success"]');
      await expect(successMessage).toBeVisible({ timeout: 30000 });
      
      return Date.now() - start;
    });
    
    const uploadTimes = await Promise.all(uploadPromises);
    
    // éªŒè¯æ€§èƒ½è¦æ±‚
    const avgTime = uploadTimes.reduce((a, b) => a + b, 0) / uploadTimes.length;
    expect(avgTime).toBeLessThan(10000); // å¹³å‡ä¸Šä¼ æ—¶é—´ < 10ç§’
    
    // æ¸…ç†
    await Promise.all(contexts.map(context => context.close()));
  });
});
```

### CI/CD é›†æˆ

```yaml
# .github/workflows/test.yml
name: Playwright Tests

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]

jobs:
  test:
    timeout-minutes: 60
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - uses: actions/setup-node@v4
      with:
        node-version: '18'
    - name: Install dependencies
      run: pnpm install
    - name: Install Playwright Browsers
      run: npx playwright install --with-deps
    - name: Build applications
      run: pnpm run build
    - name: Start test servers
      run: |
        pnpm run dev &
        npx wait-on http://localhost:3000
    - name: Run Playwright tests
      run: npx playwright test
    - uses: actions/upload-artifact@v4
      if: always()
      with:
        name: playwright-report
        path: playwright-report/
        retention-days: 30
```

### æµ‹è¯•æ•°æ®ç®¡ç†

```typescript
// tests/fixtures/test-data.ts
export const testImages = {
  validJpeg: './test-assets/sample.jpg',
  validPng: './test-assets/sample.png',
  invalidFormat: './test-assets/document.pdf',
  tooLarge: './test-assets/large-file.jpg',
  multipleFaces: './test-assets/group-photo.jpg',
  singleFace: './test-assets/portrait.jpg',
  noFaces: './test-assets/landscape.jpg'
};

export const expectedResults = {
  multipleFaces: { minFaces: 3, maxFaces: 5 },
  singleFace: { minFaces: 1, maxFaces: 1 },
  noFaces: { minFaces: 0, maxFaces: 0 }
};
```

### éªŒæ”¶æ ‡å‡†
- âœ… **æµ‹è¯•é€šè¿‡ç‡**: æ¯ä¸ªè¿­ä»£ 100% æµ‹è¯•é€šè¿‡
- âœ… **æµè§ˆå™¨å…¼å®¹**: Chrome, Firefox, Safari, Mobile å…¨éƒ¨é€šè¿‡
- âœ… **æ€§èƒ½è¦æ±‚**: å“åº”æ—¶é—´ã€ååé‡ç¬¦åˆç›®æ ‡
- âœ… **åŠŸèƒ½è¦†ç›–**: æ ¸å¿ƒåŠŸèƒ½è·¯å¾„ 100% è¦†ç›–
- âœ… **é”™è¯¯åœºæ™¯**: å¼‚å¸¸æƒ…å†µæ­£ç¡®å¤„ç†

åªæœ‰å½“æ‰€æœ‰ Playwright æµ‹è¯•é€šè¿‡æ—¶ï¼Œè¯¥è¿­ä»£æ‰è¢«è®¤ä¸ºå®Œæˆï¼Œå¯ä»¥è¿›å…¥ä¸‹ä¸€è¿­ä»£å¼€å‘ã€‚ 